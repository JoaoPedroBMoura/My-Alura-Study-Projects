<canvas width = "600" height = "600"></canvas>
<script>
    function drawSquare(x , y , size, color){    // size == tamanho
        brush.fillStyle = color ; 
        brush. fillRect(x,y,size,size,);
        brush.fill()
    }
     
    function drawColorPalette(){
        drawSquare(xRed,ySquare,sizeSquare,"red")
        drawSquare(xGreen,ySquare,sizeSquare,"green")
        drawSquare(xBlue,ySquare,sizeSquare,"blue")
       }
    
    function drawCircle(x,y, currentColor){
      brush.fillStyle = currentColor ; 
      brush.beginPath();
      brush.arc(x,y,5,0,2*3.14)
      brush.fill()
     }
    
    function manegemetMouse(event){
      var x = event.pageX - scren.offsetLeft;
      var y =event. pageY - scren.offsetTop;
       
        if (draw && canDraw(x,y)){      
        
            drawCircle(x,y,currentColor)
        }
    }

    function canDraw(x,y){
     if(x >= 0 && x <  sizeSquare * 3 
     && y >=0 && y < sizeSquare + 5){
      
        return false ;
     } else {
         return true ; 
       }
    }
    
    function changeColor(event){
     var x = event.pageX - scren.offsetLeft;
     var y = event.pageY - scren.offsetTop;

      if(y > ySquare && y < ySquare + sizeSquare){
       
        if(x > xRed && x < xRed + sizeSquare){
          currentColor = "red"
        } else if(x > xGreen && x < xGreen + sizeSquare){
         currentColor = "green"
        } else if(x > xBlue && x < xBlue + sizeSquare){
            currentColor = "blue"
          }
      }
    }
  
    function enableDraw(){
        draw = true ; 
    }
  
    function desableenableDraw(){
        draw = false;
    }
   
    var scren = document.querySelector("canvas")
    var brush = scren.getContext("2d")
    
    var currentColor = "blue"
    var xRed = 0
    var xGreen = 50
    var xBlue = 100
    var ySquare = 0 
    var sizeSquare = 50
 
    var draw = false ; 

    brush.fillStyle = "lightgrey"
    brush.fillRect(0,0,600,600)
    brush.fill()

   drawColorPalette();

   scren.onmousemove = manegemetMouse;

   scren.onmousedown = enableDraw;

   scren.onmouseup = desableenableDraw;

   scren.onclick = changeColor ;
</script>